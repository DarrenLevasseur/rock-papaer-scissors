<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        * Return "Rock", "Paper", or "Scissors" randomly.
        */
        function computerPlay() {
            // Generate a random number between 1 and 3 (inclusive)
            const rand = Math.floor(Math.random() * 3) + 1;
            // Return answer based on rand
            if (rand === 1) {
                return "rock";
            } else if (rand === 2) {
                return "paper";
            } else if (rand === 3) {
                return "scissors";
            }
        }
        /*
        * Return a string based on player and computer selection params.
        *
        * @param <string> playerSelection 
        * @param <string> computerSelection
        * 
        * @return <string> "player" or "computer" (the winner)
        */
        function playRound(playerSelection, computerSelection) {
            // "sCissOrs" -> "scissors"
            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();

            // Based on conditions, return a sentence
            if (playerSelection === computerSelection) {
                console.log("It's a tie!");
                return null;
            } else if (playerSelection === "rock" && computerSelection === "scissors") {
                console.log("Player Wins! rock beats scissors");
                return "player";
            } else if (playerSelection === "rock" && computerSelection === "paper") {
                console.log("Computer Wins! paper beats rock");
                return "computer";
            } else if (playerSelection === "paper" && computerSelection === "rock") {
                console.log("Player Wins! paper beats rock");
                return "player";
            } else if (playerSelection === "paper" && computerSelection === "scissors") {
                console.log("Computer Wins! scissors beats paper");
                return "computer";
            } else if (playerSelection === "scissors" && computerSelection === "paper") {
                console.log("Player Wins! scissors beats paper");
                return "player";
            } else if (playerSelection === "scissors" && computerSelection === "rock") {
                console.log("Computer Wins! rock beats scissors");
                return "computer";
            }
        }

        function gamePrompt() {
            return window.prompt("Rock, Paper, or Scissors?");
        }

        function game() {
            // Declare amount of rounds
            const rounds = 5;

            // Initialize scores
            let playerScore = 0;
            let computerScore = 0;

            // Game loop
            for (let i = 0; i < rounds; i++) {
                // Get selections from player and computer
                let playerSelection = gamePrompt();
                let computerSelection = computerPlay()

                // Check who won the round
                let roundWinner = playRound(playerSelection, computerSelection);
                if (roundWinner === "player") {
                    playerScore += 1; // -> playerScore = playerScore + 1;
                } else if (roundWinner === "computer") {
                    computerScore += 1;
                }
            }

            // Exit loop - display who won
            console.log(`
                Player Score: ${playerScore}
                Computer Score: ${computerScore}
            `);
            if (playerScore > computerScore) {
                console.log("Player wins game!");
            } else if (computerScore > playerScore) {
                console.log("Computer wins game!");
            } else {
                console.log("Tie game.");
            }
        }

        game();
    </script>
</body>
</html>